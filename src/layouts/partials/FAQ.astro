---
import AnimatedAnchor from "@/components/AnimatedAnchor.astro";
import ImageMod from "@/components/ImageMod.astro";
import { getListPage } from "@/lib/contentParser.astro";
import { markdownify } from "@/lib/utils/textConverter";
import Accordion from "@/shortcodes/Accordion";

const sectionData = await getListPage("faqSection", "faq");
if (!sectionData.data.enable) {
  return null;
}

const { title, bg_image, description, image, id, items } = sectionData.data;
---

<section class="section" id={id}>
  <div class="container">
    <div
      class="relative overflow-hidden rounded-2xl px-7 pb-7 md:px-10 md:pb-10 lg:px-16 lg:pb-16"
    >
      <div
        class="flex flex-col justify-start items-center relative text-center z-10 lg:gy-0"
      >
        <div class="lg:col-5">
          <div class="min-h-full pb-16">
            <div>
              <h2
                set:html={markdownify(title)}
                class="has-gradient mb-6"
                data-aos="fade-up-sm"
              />
              <div data-aos="fade-up-sm" data-aos-delay="50">
                <div
                  set:html={markdownify(description)}
                  class="text-2xl/[inherit]"
                />
              </div>
            </div>
          </div>
        </div>
        <div data-aos="fade-up-sm">
          {
            items.map((item) => {
              return (
                <Accordion client:load title={item.question}>
                  <div set:html={markdownify(item.answer)} class="py-8" />
                </Accordion>
              );
            })
          }
        </div>
      </div>
    </div>
  </div>
</section>
